{"ast":null,"code":"var _jsxFileName = \"/home/vanellope/Programming/Javascript/Quickloan/frontend/src/components/LoanRepaymentHistory.js\";\nimport React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../redux/actions/loanActions';\n\nconst mapStateToProps = ({\n  errors,\n  loanHistory\n}) => ({\n  errors,\n  loanHistory\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(loanActions, dispatch)\n});\n\nconst LoanRepaymentHistory = ({\n  actions,\n  errors,\n  loanHistory\n}) => {\n  const auth = localStorage.getItem('jwt');\n  const [showError, setShowError] = useState(false);\n  useEffect(() => {\n    const id = actions.loadHistory({\n      loanId: auth.loan[0]._id,\n      token: auth.token\n    });\n    setShowError(false);\n    return () => id;\n  }, [actions]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-form\",\n    style: {\n      width: \"57%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, \"Repayment History\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  }, showError && errors), loanHistory.length === 0 ? 'You have no loan repayment history' : /*#__PURE__*/React.createElement(React.Fragment, null, loanHistory.map(history => /*#__PURE__*/React.createElement(\"div\", {\n    key: history._id,\n    style: {\n      display: \"flex\",\n      alignSelf: \"center\",\n      width: \"40%\",\n      flexDirection: \"column\",\n      marginTop: \"20px\",\n      borderRadius: \"8px\",\n      padding: \"15px\",\n      boxShadow: \"0px 2px 10px 0px #185a9d\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \"Repayment Amount:\"), \" \", \"ksh. \" + history.repaymentAmount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, \"Date:\"), \" \", history.createdAt), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Loan Balance:\"), \" \", \"ksh. \" + history.loanBalance))))));\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoanRepaymentHistory));","map":{"version":3,"sources":["/home/vanellope/Programming/Javascript/Quickloan/frontend/src/components/LoanRepaymentHistory.js"],"names":["React","useEffect","useState","withRouter","connect","bindActionCreators","loanActions","mapStateToProps","errors","loanHistory","mapDispatchToProps","dispatch","actions","LoanRepaymentHistory","auth","localStorage","getItem","showError","setShowError","id","loadHistory","loanId","loan","_id","token","width","length","map","history","display","alignSelf","flexDirection","marginTop","borderRadius","padding","boxShadow","fontWeight","repaymentAmount","createdAt","loanBalance"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../redux/actions/loanActions';\n\nconst mapStateToProps = ({ errors, loanHistory }) => ({ errors, loanHistory });\nconst mapDispatchToProps = dispatch => ({\n    actions: bindActionCreators(loanActions, dispatch)\n});\n\nconst LoanRepaymentHistory = ({ actions, errors, loanHistory }) => {\n    const auth = localStorage.getItem('jwt')\n  const [showError, setShowError] = useState(false);\n    useEffect(() => {\n      const id = actions.loadHistory({ loanId: auth.loan[0]._id, token: auth.token })\n      setShowError(false)\n      return () => id\n    }, [actions]);\n\n    return (\n      <>\n        <div className=\"data-form\" style={{ width: \"57%\" }}>\n          <header>\n            <h1>Repayment History</h1>\n          </header>\n          <div className='error'>{showError && errors}</div>\n          {loanHistory.length === 0 ? 'You have no loan repayment history' : (\n          <>\n          {loanHistory.map((history) => (\n            <div\n              key={history._id}\n              style={{\n                display: \"flex\",\n                alignSelf: \"center\",\n                width: \"40%\",\n                flexDirection: \"column\",\n                marginTop: \"20px\",\n                borderRadius: \"8px\",\n                padding: \"15px\",\n                boxShadow: \"0px 2px 10px 0px #185a9d\",\n              }}\n            >\n              <p>\n                <em style={{ fontWeight: \"bold\" }}>Repayment Amount:</em>{\" \"}\n                {\"ksh. \" + history.repaymentAmount}\n              </p>\n              <p>\n                <em style={{ fontWeight: \"bold\" }}>Date:</em>{\" \"}\n                {history.createdAt}\n              </p>\n              <p>\n                <em style={{ fontWeight: \"bold\" }}>Loan Balance:</em>{\" \"}\n                {\"ksh. \" + history.loanBalance}\n              </p>\n            </div>\n          ))}</>)}\n        </div>\n      </>\n    );\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoanRepaymentHistory));"]},"metadata":{},"sourceType":"module"}