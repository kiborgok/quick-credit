{"ast":null,"code":"var _jsxFileName = \"/home/vanellope/Programming/Javascript/Quickloan/quick-credit-frontend/src/components/admin/LoanApplications.js\";\nimport React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../../redux/actions/loanActions';\n\nconst mapStateToProps = ({\n  errors,\n  loans\n}) => ({\n  errors,\n  loans\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: {\n    loadLoans: bindActionCreators(loanActions.loadLoans, dispatch),\n    approveOrRejectLoan: bindActionCreators(loanActions.approveOrRejectLoan, dispatch)\n  }\n});\n\nconst Modal = ({\n  handleClose,\n  show,\n  loan\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: show ? 'modal display-block' : 'modal display-none',\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"section\", {\n  className: \"modal-main\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 7\n  }\n}, \"Loan Details\"), /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }\n}, \"Amount: \", loan.amount), /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }\n}, \"Tenor: \", loan.tenor), /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }\n}, \"Interest: \", loan.interest), /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }\n}, \"monthlyInstallment: \", loan.monthlyInstallment), /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }\n}, \"Balance: \", loan.balance), /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }\n}, \"Repaid: \", loan.repaid === true ? 'True' : 'False'), /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }\n}, \"Status: \", loan.status)), /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    position: 'fixed',\n    right: '0',\n    top: '0',\n    color: 'red',\n    fontWeight: 'bold',\n    fontSize: '1.5em',\n    marginRight: '15px',\n    marginTop: '15px'\n  },\n  onClick: handleClose,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 7\n  }\n}, \"X\")));\n\nconst LoanApplications = ({\n  errors,\n  loans,\n  actions\n}) => {\n  const auth = JSON.parse(localStorage.getItem('jwt'));\n  const [show, setShow] = useState(false);\n  const [loanDetails, setLoanDetails] = useState({\n    amount: null,\n    tenor: null,\n    repaid: null,\n    balance: null,\n    interest: null,\n    status: null,\n    monthlyInstallment: null\n  });\n\n  const showModal = () => setShow(true);\n\n  const hideModal = () => setShow(false);\n\n  useEffect(() => {\n    loans.length === 0 && actions.loadLoans({\n      token: auth.token\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Loans\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, errors), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"Second Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"Period In Months\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"Balance\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"View Loan\"))), loans.length !== 0 ? /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, loans.map(loan => /*#__PURE__*/React.createElement(\"tr\", {\n    key: loan._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, loan.user.firstName), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, loan.user.secondName), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, loan.user.email), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }, loan.amount), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, loan.tenor), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, loan.balance), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      loan.status === \"Rejected\" ? actions.approveOrRejectLoan({\n        status: \"Approved\",\n        loanId: loan._id,\n        token: auth.token\n      }) : actions.approveOrRejectLoan({\n        status: \"Rejected\",\n        loanId: loan._id,\n        token: auth.token\n      });\n    },\n    className: loan.status === \"Pending\" ? \"pending\" : loan.status === \"Approved\" ? \"approved\" : \"unverified\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, loan.status)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    loan: loanDetails,\n    handleClose: hideModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setLoanDetails({\n        amount: loan.amount,\n        tenor: loan.tenor,\n        repaid: loan.repaid,\n        balance: loan.balance,\n        interest: loan.interest,\n        status: loan.status,\n        monthlyInstallment: loan.paymentInstallment\n      });\n      showModal();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"View\"))))) : /*#__PURE__*/React.createElement(\"caption\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, \"There are no loans yet\"))));\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoanApplications));","map":{"version":3,"sources":["/home/vanellope/Programming/Javascript/Quickloan/quick-credit-frontend/src/components/admin/LoanApplications.js"],"names":["React","useEffect","useState","withRouter","connect","bindActionCreators","loanActions","mapStateToProps","errors","loans","mapDispatchToProps","dispatch","actions","loadLoans","approveOrRejectLoan","Modal","handleClose","show","loan","amount","tenor","interest","monthlyInstallment","balance","repaid","status","position","right","top","color","fontWeight","fontSize","marginRight","marginTop","LoanApplications","auth","JSON","parse","localStorage","getItem","setShow","loanDetails","setLoanDetails","showModal","hideModal","length","token","map","_id","user","firstName","secondName","email","loanId","paymentInstallment"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,OAAO,KAAKC,WAAZ,MAA6B,iCAA7B;;AAEA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAD,MAAwB;AAC9CD,EAAAA,MAD8C;AACtCC,EAAAA;AADsC,CAAxB,CAAxB;;AAIA,MAAMC,kBAAkB,GAAGC,QAAQ,KAAK;AACtCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAER,kBAAkB,CAACC,WAAW,CAACO,SAAb,EAAwBF,QAAxB,CADtB;AAEPG,IAAAA,mBAAmB,EAAET,kBAAkB,CAACC,WAAW,CAACQ,mBAAb,EAAkCH,QAAlC;AAFhC;AAD6B,CAAL,CAAnC;;AAOA,MAAMI,KAAK,GAAG,CAAC;AAAEC,EAAAA,WAAF;AAAeC,EAAAA,IAAf;AAAqBC,EAAAA;AAArB,CAAD,kBACZ;AAAK,EAAA,SAAS,EAAED,IAAI,GAAG,qBAAH,GAA2B,oBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAS,EAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaC,IAAI,CAACC,MAAlB,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAYD,IAAI,CAACE,KAAjB,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAeF,IAAI,CAACG,QAApB,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAyBH,IAAI,CAACI,kBAA9B,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAcJ,IAAI,CAACK,OAAnB,CALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaL,IAAI,CAACM,MAAL,KAAgB,IAAhB,GAAuB,MAAvB,GAAgC,OAA7C,CANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaN,IAAI,CAACO,MAAlB,CAPF,CAFF,eAWE;AACE,EAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,OADL;AACcC,IAAAA,KAAK,EAAE,GADrB;AAC0BC,IAAAA,GAAG,EAAE,GAD/B;AACoCC,IAAAA,KAAK,EAAE,KAD3C;AACkDC,IAAAA,UAAU,EAAE,MAD9D;AACsEC,IAAAA,QAAQ,EAAE,OADhF;AACyFC,IAAAA,WAAW,EAAE,MADtG;AAC8GC,IAAAA,SAAS,EAAE;AADzH,GADT;AAIE,EAAA,OAAO,EAAEjB,WAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAXF,CADF,CADF;;AAwBA,MAAMkB,gBAAgB,GAAG,CAAC;AAAE1B,EAAAA,MAAF;AAAUC,EAAAA,KAAV;AAAiBG,EAAAA;AAAjB,CAAD,KAAgC;AACvD,QAAMuB,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAX,CAAb;AACA,QAAM,CAACtB,IAAD,EAAOuB,OAAP,IAAkBtC,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACuC,WAAD,EAAcC,cAAd,IAAgCxC,QAAQ,CAAC;AAC7CiB,IAAAA,MAAM,EAAE,IADqC;AAE7CC,IAAAA,KAAK,EAAE,IAFsC;AAG7CI,IAAAA,MAAM,EAAE,IAHqC;AAI7CD,IAAAA,OAAO,EAAE,IAJoC;AAK7CF,IAAAA,QAAQ,EAAE,IALmC;AAM7CI,IAAAA,MAAM,EAAE,IANqC;AAO7CH,IAAAA,kBAAkB,EAAE;AAPyB,GAAD,CAA9C;;AASA,QAAMqB,SAAS,GAAG,MAAMH,OAAO,CAAC,IAAD,CAA/B;;AACA,QAAMI,SAAS,GAAG,MAAMJ,OAAO,CAAC,KAAD,CAA/B;;AACAvC,EAAAA,SAAS,CAAC,MAAM;AACbQ,IAAAA,KAAK,CAACoC,MAAN,KAAiB,CAAlB,IAAwBjC,OAAO,CAACC,SAAR,CAAkB;AAAEiC,MAAAA,KAAK,EAAEX,IAAI,CAACW;AAAd,KAAlB,CAAxB;AACD,GAFQ,CAAT;AAGA,sBACE,uDACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CADF,eAIE;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsBtC,MAAtB,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARF,CADF,CADF,EAaGC,KAAK,CAACoC,MAAN,KAAiB,CAAjB,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpC,KAAK,CAACsC,GAAN,CAAW7B,IAAD,iBACT;AAAI,IAAA,GAAG,EAAEA,IAAI,CAAC8B,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK9B,IAAI,CAAC+B,IAAL,CAAUC,SAAf,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKhC,IAAI,CAAC+B,IAAL,CAAUE,UAAf,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKjC,IAAI,CAAC+B,IAAL,CAAUG,KAAf,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKlC,IAAI,CAACC,MAAV,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,IAAI,CAACE,KAAV,CALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,IAAI,CAACK,OAAV,CANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,OAAO,EAAE,MAAM;AACbL,MAAAA,IAAI,CAACO,MAAL,KAAgB,UAAhB,GACIb,OAAO,CAACE,mBAAR,CAA4B;AAC5BW,QAAAA,MAAM,EAAE,UADoB;AAE5B4B,QAAAA,MAAM,EAAEnC,IAAI,CAAC8B,GAFe;AAG5BF,QAAAA,KAAK,EAAEX,IAAI,CAACW;AAHgB,OAA5B,CADJ,GAMIlC,OAAO,CAACE,mBAAR,CAA4B;AAC5BW,QAAAA,MAAM,EAAE,UADoB;AAE5B4B,QAAAA,MAAM,EAAEnC,IAAI,CAAC8B,GAFe;AAG5BF,QAAAA,KAAK,EAAEX,IAAI,CAACW;AAHgB,OAA5B,CANJ;AAWD,KAbH;AAcE,IAAA,SAAS,EACP5B,IAAI,CAACO,MAAL,KAAgB,SAAhB,GACI,SADJ,GAEIP,IAAI,CAACO,MAAL,KAAgB,UAAhB,GACE,UADF,GAEE,YAnBV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAsBGP,IAAI,CAACO,MAtBR,CADF,CAPF,eAiCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAER,IADR;AAEE,IAAA,IAAI,EAAEwB,WAFR;AAGE,IAAA,WAAW,EAAEG,SAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AACE,IAAA,OAAO,EAAE,MAAM;AACbF,MAAAA,cAAc,CAAC;AACbvB,QAAAA,MAAM,EAAED,IAAI,CAACC,MADA;AAEbC,QAAAA,KAAK,EAAEF,IAAI,CAACE,KAFC;AAGbI,QAAAA,MAAM,EAAEN,IAAI,CAACM,MAHA;AAIbD,QAAAA,OAAO,EAAEL,IAAI,CAACK,OAJD;AAKbF,QAAAA,QAAQ,EAAEH,IAAI,CAACG,QALF;AAMbI,QAAAA,MAAM,EAAEP,IAAI,CAACO,MANA;AAObH,QAAAA,kBAAkB,EAAEJ,IAAI,CAACoC;AAPZ,OAAD,CAAd;AASAX,MAAAA,SAAS;AACV,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,CAjCF,CADD,CADH,CADD,gBA+DG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BA5EN,CALF,CADF,CADF;AAyFD,CA1GD;;AA4GA,eAAexC,UAAU,CAACC,OAAO,CAACG,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CwB,gBAA7C,CAAD,CAAzB","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../../redux/actions/loanActions';\n\nconst mapStateToProps = ({ errors, loans }) => ({\n  errors, loans\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: {\n    loadLoans: bindActionCreators(loanActions.loadLoans, dispatch),\n    approveOrRejectLoan: bindActionCreators(loanActions.approveOrRejectLoan, dispatch)\n  }\n});\n\nconst Modal = ({ handleClose, show, loan }) => (\n  <div className={show ? 'modal display-block' : 'modal display-none'}>\n    <section className='modal-main'>\n      <h2>Loan Details</h2>\n      <div>\n        <h2>Amount: {loan.amount}</h2>\n        <h2>Tenor: {loan.tenor}</h2>\n        <h2>Interest: {loan.interest}</h2>\n        <h2>monthlyInstallment: {loan.monthlyInstallment}</h2>\n        <h2>Balance: {loan.balance}</h2>\n        <h2>Repaid: {loan.repaid === true ? 'True' : 'False'}</h2>\n        <h2>Status: {loan.status}</h2>\n      </div>\n      <div\n        style={{\n          position: 'fixed', right: '0', top: '0', color: 'red', fontWeight: 'bold', fontSize: '1.5em', marginRight: '15px', marginTop: '15px'\n        }}\n        onClick={handleClose}>\n        X\n            </div>\n    </section>\n  </div>\n)\n\nconst LoanApplications = ({ errors, loans, actions }) => {\n  const auth = JSON.parse(localStorage.getItem('jwt'))\n  const [show, setShow] = useState(false);\n  const [loanDetails, setLoanDetails] = useState({\n    amount: null,\n    tenor: null,\n    repaid: null,\n    balance: null,\n    interest: null,\n    status: null,\n    monthlyInstallment: null\n  });\n  const showModal = () => setShow(true)\n  const hideModal = () => setShow(false)\n  useEffect(() => {\n    (loans.length === 0) && actions.loadLoans({ token: auth.token })\n  });\n  return (\n    <>\n      <div className=\"data-form\">\n        <header>\n          <h1>Loans</h1>\n        </header>\n        <p className='error'>{errors}</p>\n        <table>\n          <thead>\n            <tr>\n              <th>First Name</th>\n              <th>Second Name</th>\n              <th>Email</th>\n              <th>Amount</th>\n              <th>Period In Months</th>\n              <th>Balance</th>\n              <th>Status</th>\n              <th>View Loan</th>\n            </tr>\n          </thead>\n          {loans.length !== 0 ? (\n            <tbody>\n              {loans.map((loan) => (\n                <tr key={loan._id}>\n                  <td>{loan.user.firstName}</td>\n                  <td>{loan.user.secondName}</td>\n                  <td>{loan.user.email}</td>\n                  <td>{loan.amount}</td>\n                  <td>{loan.tenor}</td>\n                  <td>{loan.balance}</td>\n                  <td>\n                    <button\n                      onClick={() => {\n                        loan.status === \"Rejected\"\n                          ? actions.approveOrRejectLoan({\n                            status: \"Approved\",\n                            loanId: loan._id,\n                            token: auth.token\n                          })\n                          : actions.approveOrRejectLoan({\n                            status: \"Rejected\",\n                            loanId: loan._id,\n                            token: auth.token\n                          });\n                      }}\n                      className={\n                        loan.status === \"Pending\"\n                          ? \"pending\"\n                          : loan.status === \"Approved\"\n                            ? \"approved\"\n                            : \"unverified\"\n                      }\n                    >\n                      {loan.status}\n                    </button>\n                  </td>\n                  <td>\n                    <Modal\n                      show={show}\n                      loan={loanDetails}\n                      handleClose={hideModal}\n                    />\n                    <button\n                      onClick={() => {\n                        setLoanDetails({\n                          amount: loan.amount,\n                          tenor: loan.tenor,\n                          repaid: loan.repaid,\n                          balance: loan.balance,\n                          interest: loan.interest,\n                          status: loan.status,\n                          monthlyInstallment: loan.paymentInstallment,\n                        });\n                        showModal();\n                      }}\n                    >\n                      View\n                      </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>) : (\n\n              <caption>There are no loans yet</caption>\n            )}\n        </table>\n      </div>\n    </>\n  );\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoanApplications));"]},"metadata":{},"sourceType":"module"}