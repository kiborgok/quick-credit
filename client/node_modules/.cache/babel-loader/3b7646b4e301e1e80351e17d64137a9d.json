{"ast":null,"code":"import * as loanApi from '../../api/loanApi';\nimport * as types from './actionTypes';\nexport const receiveErrors = error => ({\n  type: types.RECEIVE_ERRORS,\n  error: error.error\n});\nexport const createLoan = loan => ({\n  type: types.CREATE_LOAN,\n  loan: loan.data\n});\nexport const repayLoanSuccess = loan => ({\n  type: types.REPAY_LOAN,\n  loan: loan.data\n});\nexport const loadLoansSuccess = loans => ({\n  type: types.LOAD_LOANS_SUCCESS,\n  loans: loans.data\n});\nexport const loadLoanSuccess = loan => ({\n  type: types.LOAD_LOAN_SUCCESS,\n  loan: loan.data\n});\nexport const loadLoanHistorySuccess = loanHistory => ({\n  type: types.LOAD_REPAYMENT_HISTORY,\n  loanHistory: loanHistory.data\n});\nexport const approveOrReject = loan => ({\n  type: types.APPROVE_OR_REJECT_LOAN,\n  loan: loan.data\n});\nexport function applyLoan(loan) {\n  return function (dispatch) {\n    return loanApi.applyLoan(loan).then(loan => {\n      if (loan.data) {\n        alert(`Your loan is being processed`);\n        return dispatch(createLoan(loan));\n      }\n\n      return dispatch(receiveErrors(loan));\n    }).catch(error => {\n      alert(`Network Error ${error}`);\n    });\n  };\n}\n;\nexport function repayLoan(loan) {\n  return function (dispatch) {\n    return loanApi.repayLoan(loan).then(loan => {\n      if (loan.data) {\n        alert(`You have repaid ksh. ${loan.data.repaymentAmount}`);\n        return dispatch(repayLoanSuccess(loan));\n      }\n\n      return dispatch(receiveErrors(loan));\n    }).catch(error => {\n      alert(`Network Error ${error}`);\n    });\n  };\n}\n;\nexport function loadLoans() {\n  return function (dispatch) {\n    return loanApi.loadLoans().then(loans => {\n      if (loans.data) return dispatch(loadLoansSuccess(loans));\n      return dispatch(receiveErrors(loan));\n    }).catch(error => {\n      alert(`Network Error ${error}`);\n    });\n  };\n}\n;\nexport function loadLoan() {\n  return function (dispatch) {\n    return loanApi.loadLoan().then(loan => {\n      if (loan.data) {\n        return dispatch(loadLoanSuccess(loan));\n      }\n\n      return dispatch(receiveErrors(loan));\n    }).catch(error => {\n      alert(`Network Error ${error}`);\n    });\n  };\n}\n;\nexport function loadHistory(loanId) {\n  return function (dispatch) {\n    return loanApi.loadRepaymentHistory(loanId).then(loanHistory => {\n      if (loanHistory.data) return dispatch(loadLoanHistorySuccess(loanHistory));\n      return dispatch(receiveErrors(loanHistory));\n    });\n  };\n}\n;\nexport function approveOrRejectLoan(loan) {\n  return function (dispatch) {\n    return loanApi.approveOrRejectLoan(loan).then(loan => dispatch(approveOrReject(loan)));\n  };\n}\n;","map":{"version":3,"sources":["/home/vanellope/Programming/Javascript/Quickloan/frontend/src/redux/actions/loanActions.js"],"names":["loanApi","types","receiveErrors","error","type","RECEIVE_ERRORS","createLoan","loan","CREATE_LOAN","data","repayLoanSuccess","REPAY_LOAN","loadLoansSuccess","loans","LOAD_LOANS_SUCCESS","loadLoanSuccess","LOAD_LOAN_SUCCESS","loadLoanHistorySuccess","loanHistory","LOAD_REPAYMENT_HISTORY","approveOrReject","APPROVE_OR_REJECT_LOAN","applyLoan","dispatch","then","alert","catch","repayLoan","repaymentAmount","loadLoans","loadLoan","loadHistory","loanId","loadRepaymentHistory","approveOrRejectLoan"],"mappings":"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","sourcesContent":["import * as loanApi from '../../api/loanApi';\nimport * as types from './actionTypes';\n\nexport const receiveErrors = error => (\n    { type: types.RECEIVE_ERRORS, error: error.error }\n);\n\nexport const createLoan = loan => (\n    { type: types.CREATE_LOAN, loan: loan.data }\n);\n\nexport const repayLoanSuccess = loan => (\n    { type: types.REPAY_LOAN, loan: loan.data }\n);\n\nexport const loadLoansSuccess = loans => (\n    { type: types.LOAD_LOANS_SUCCESS, loans: loans.data }\n);\n\nexport const loadLoanSuccess = (loan) => ({\n  type: types.LOAD_LOAN_SUCCESS,\n  loan: loan.data,\n});\n\nexport const loadLoanHistorySuccess = loanHistory => (\n    { type: types.LOAD_REPAYMENT_HISTORY, loanHistory: loanHistory.data }\n);\n\nexport const approveOrReject = loan => (\n    { type: types.APPROVE_OR_REJECT_LOAN, loan: loan.data }\n);\n\nexport function applyLoan(loan) {\n    return function (dispatch) {\n        return loanApi.applyLoan(loan)\n            .then(loan => {\n                if (loan.data) {\n                    alert(`Your loan is being processed`)\n                    return dispatch(createLoan(loan))\n                }\n                return dispatch(receiveErrors(loan))\n            })\n            .catch(error => {\n                alert(`Network Error ${error}`)\n            })\n    };\n};\n\nexport function repayLoan(loan) {\n    return function (dispatch) {\n        return loanApi.repayLoan(loan)\n            .then(loan => {\n                if (loan.data) {\n                    alert(`You have repaid ksh. ${loan.data.repaymentAmount}`)\n                    return dispatch(repayLoanSuccess(loan))\n                }\n                return dispatch(receiveErrors(loan))\n            })\n            .catch(error => {\n                alert(`Network Error ${error}`)\n            })\n    };\n};\n\nexport function loadLoans() {\n    return function (dispatch) {\n        return loanApi.loadLoans()\n            .then(loans => {\n                if (loans.data) return dispatch(loadLoansSuccess(loans))\n                return dispatch(receiveErrors(loan))\n            })\n            .catch(error => {\n                alert(`Network Error ${error}`)\n            })\n    };\n};\n\nexport function loadLoan() {\n    return function (dispatch) {\n        return loanApi.loadLoan()\n            .then(loan => {\n                if (loan.data) {\n                    return dispatch(loadLoanSuccess(loan))\n                }\n                return dispatch(receiveErrors(loan))\n            })\n            .catch(error => {\n                alert(`Network Error ${error}`)\n            })\n    };\n};\n\nexport function loadHistory(loanId) {\n    return function (dispatch) {\n        return loanApi.loadRepaymentHistory(loanId)\n            .then(loanHistory => {\n                if (loanHistory.data) return dispatch(loadLoanHistorySuccess(loanHistory))\n                return dispatch(receiveErrors(loanHistory))\n            })\n    };\n};\n\nexport function approveOrRejectLoan(loan) {\n    return function (dispatch) {\n        return loanApi.approveOrRejectLoan(loan)\n            .then(loan => dispatch(approveOrReject(loan)))\n    };\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}