{"ast":null,"code":"import _regeneratorRuntime from\"/home/vanellope/Programming/Javascript/Quickloan/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/vanellope/Programming/Javascript/Quickloan/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var token=localStorage.getItem('token');var userId=localStorage.getItem(\"userId\");export var applyLoan=function applyLoan(_ref){var amount=_ref.amount,tenor=_ref.tenor,userId=_ref.userId;return fetch(\"api/v1/loans/\".concat(userId,\"/apply\"),{method:'POST',body:JSON.stringify({amount:amount,tenor:tenor}),headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(function(response){return response.json();});};export var repayLoan=function repayLoan(_ref2){var repaymentAmount=_ref2.repaymentAmount,loanId=_ref2.loanId;return fetch(\"api/v1/loans/\".concat(loanId,\"/repayment\"),{method:'POST',body:JSON.stringify({repaymentAmount:repaymentAmount}),headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(function(response){return response.json();});};export var loadLoans=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('api/v1/loans',{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){return response.json();});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function loadLoans(){return _ref3.apply(this,arguments);};}();export var loadLoan=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"api/v1/loans/\".concat(userId),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){return response.json();});case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function loadLoan(){return _ref4.apply(this,arguments);};}();export var loadRepaymentHistory=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref5){var loanId;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:loanId=_ref5.loanId;_context3.next=3;return fetch(\"api/v1/loans/\".concat(loanId,\"/repaymentHistory\"),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){return response.json();});case 3:return _context3.abrupt(\"return\",_context3.sent);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function loadRepaymentHistory(_x){return _ref6.apply(this,arguments);};}();export var approveOrRejectLoan=function approveOrRejectLoan(_ref7){var loanId=_ref7.loanId,status=_ref7.status;return fetch(\"api/v1/loans/\".concat(loanId),{method:'POST',body:JSON.stringify({status:status}),headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(function(response){return response.json();});};","map":{"version":3,"sources":["/home/vanellope/Programming/Javascript/Quickloan/frontend/src/api/loanApi.js"],"names":["token","localStorage","getItem","userId","applyLoan","amount","tenor","fetch","method","body","JSON","stringify","headers","then","response","json","repayLoan","repaymentAmount","loanId","loadLoans","loadLoan","Authorization","loadRepaymentHistory","approveOrRejectLoan","status"],"mappings":"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","sourcesContent":["const token = localStorage.getItem('token');\nconst userId = localStorage.getItem(\"userId\");\n\nexport const applyLoan = ({ amount, tenor, userId }) => (\n    fetch(`api/v1/loans/${userId}/apply`, {\n        method: 'POST',\n        body: JSON.stringify({ amount, tenor }),\n        headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n        }\n    })\n        .then(response => response.json())\n);\n\nexport const repayLoan = ({ repaymentAmount, loanId }) => {\n    return fetch(`api/v1/loans/${loanId}/repayment`, {\n        method: 'POST',\n        body: JSON.stringify({ repaymentAmount }),\n        headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n        }\n    })\n        .then(response => response.json())\n};\n\nexport const loadLoans = async () => (\n    await fetch('api/v1/loans', {\n        method: 'GET',\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    })\n        .then(response => response.json())\n);\n\nexport const loadLoan = async () =>\n  await fetch(`api/v1/loans/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  }).then((response) => response.json());\n\nexport const loadRepaymentHistory = async ({ loanId }) =>\n  await fetch(`api/v1/loans/${loanId}/repaymentHistory`, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  }).then((response) => response.json());\n\nexport const approveOrRejectLoan = ({ loanId, status }) => (\n    fetch(`api/v1/loans/${loanId}`, {\n        method: 'POST',\n        body: JSON.stringify({ status }),\n        headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n        }\n    })\n        .then(response => response.json())\n);"]},"metadata":{},"sourceType":"module"}