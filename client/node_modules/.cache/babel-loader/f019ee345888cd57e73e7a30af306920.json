{"ast":null,"code":"var _jsxFileName = \"/home/vanellope/Programming/Javascript/Quickloan/frontend/src/components/LoanApplication.js\";\nimport React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../redux/actions/loanActions';\n\nconst mapStateToProps = ({\n  errors\n}) => ({\n  errors\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(loanActions, dispatch)\n});\n\nconst Loan = ({\n  errors,\n  actions,\n  history\n}) => {\n  const initialState = {\n    amount: 500,\n    tenor: 1\n  };\n  const [loan, setLoan] = useState(initialState);\n  const [showError, setShowError] = useState(false);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLoan({ ...loan,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const userId = localStorage.getItem('userId');\n    const loanObject = {\n      amount: loan.amount,\n      tenor: loan.tenor,\n      userId: userId\n    };\n\n    const apply = async () => {\n      const application = await actions.applyLoan(loanObject);\n\n      if (application.loan) {\n        history.push('/loanDetails');\n        return window.location.reload();\n      }\n\n      setShowError(true);\n    };\n\n    apply();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loan-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Apply for a loan\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, showError && errors), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"range\",\n    min: \"500\",\n    max: \"50000\",\n    step: \"500\",\n    id: \"amount\",\n    name: \"amount\",\n    value: loan.amount,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"output\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, \"ksh. \" + loan.amount)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"tenor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"Period In Months\"), /*#__PURE__*/React.createElement(\"select\", {\n    as: \"select\",\n    id: \"tenor\",\n    name: \"tenor\",\n    value: loan.tenor,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"9\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"12\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, \"Request\")))));\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Loan));","map":{"version":3,"sources":["/home/vanellope/Programming/Javascript/Quickloan/frontend/src/components/LoanApplication.js"],"names":["React","useState","withRouter","connect","bindActionCreators","loanActions","mapStateToProps","errors","mapDispatchToProps","dispatch","actions","Loan","history","initialState","amount","tenor","loan","setLoan","showError","setShowError","handleChange","e","name","value","target","handleSubmit","preventDefault","userId","localStorage","getItem","loanObject","apply","application","applyLoan","push","window","location","reload"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../redux/actions/loanActions';\n\n\nconst mapStateToProps = ({ errors }) => ({\n    errors\n});\n\nconst mapDispatchToProps = dispatch => ({\n    actions: bindActionCreators(loanActions, dispatch)\n});\n\nconst Loan = ({ errors, actions, history }) => {\n    const initialState = { amount: 500, tenor: 1 };\n  const [loan, setLoan] = useState(initialState);\n  const [showError, setShowError] = useState(false);\n\n    const handleChange = e => {\n        const { name, value } = e.target;\n        setLoan({ ...loan, [name]: value });\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        const userId = localStorage.getItem('userId');\n        const loanObject = {\n            amount: loan.amount,\n            tenor: loan.tenor,\n            userId: userId\n        }\n      \n      const apply = async () => {\n        const application = await actions.applyLoan(loanObject);\n        if (application.loan) {\n          history.push('/loanDetails')\n          return window.location.reload();\n        }\n        setShowError(true)\n      }\n      apply();\n\n    }\n    return (\n      <>\n        <div className=\"loan-form\">\n          <header>\n            <h1>Apply for a loan</h1>\n          </header>\n          <div className='error'>{showError && errors}</div>\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-row\">\n              <label htmlFor=\"amount\">Amount</label>\n              <input\n                type=\"range\"\n                min=\"500\"\n                max=\"50000\"\n                step=\"500\"\n                id=\"amount\"\n                name=\"amount\"\n                value={loan.amount}\n                onChange={handleChange}\n              />\n              <output>{\"ksh. \" + loan.amount}</output>\n            </div>\n            <div className=\"form-row\">\n              <label htmlFor=\"tenor\">Period In Months</label>\n              <select\n                as=\"select\"\n                id=\"tenor\"\n                name=\"tenor\"\n                value={loan.tenor}\n                onChange={handleChange}\n              >\n                <option value={1}>1</option>\n                <option value={3}>3</option>\n                <option value={6}>6</option>\n                <option value={9}>9</option>\n                <option value={12}>12</option>\n              </select>\n            </div>\n            <div className=\"form-row\">\n              <button>Request</button>\n            </div>\n          </form>\n        </div>\n      </>\n    );\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Loan));"]},"metadata":{},"sourceType":"module"}