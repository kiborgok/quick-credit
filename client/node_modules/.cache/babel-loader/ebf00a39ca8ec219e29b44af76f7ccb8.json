{"ast":null,"code":"var _jsxFileName = \"/home/vanellope/Programming/Javascript/Quickloan/frontend/src/components/LoanRepaymentHistory.js\";\nimport React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../redux/actions/loanActions';\n\nconst mapStateToProps = ({\n  errors,\n  history\n}) => ({\n  errors,\n  history\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(loanActions, dispatch)\n});\n\nconst LoanRepaymentHistory = ({\n  actions,\n  errors,\n  history\n}) => {\n  const auth = JSON.parse(localStorage.getItem('jwt'));\n  const [showError, setShowError] = useState(false);\n  useEffect(() => {\n    const id = actions.loadHistory({\n      loanId: auth.loan[0]._id,\n      token: auth.token\n    });\n    return () => id;\n    setShowError(false);\n  }, [actions, auth.loan, auth.token]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-form\",\n    style: {\n      width: \"57%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }\n  }, \"Repayment History\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, showError && errors), history.length === 0 ? 'You have no loan repayment history' : /*#__PURE__*/React.createElement(React.Fragment, null, history.map(history => /*#__PURE__*/React.createElement(\"div\", {\n    key: history._id,\n    style: {\n      display: \"flex\",\n      alignSelf: \"center\",\n      flexDirection: \"column\",\n      marginTop: \"20px\",\n      borderRadius: \"8px\",\n      padding: \"15px\",\n      boxShadow: \"0px 2px 10px 0px #185a9d\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 19\n    }\n  }, \"Repayment Amount:\"), \" \", \"ksh. \" + history.repaymentAmount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }\n  }, \"Date:\"), \" \", history.createdAt), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  }, \"Loan Balance:\"), \" \", \"ksh. \" + history.loanBalance))))));\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoanRepaymentHistory));","map":{"version":3,"sources":["/home/vanellope/Programming/Javascript/Quickloan/frontend/src/components/LoanRepaymentHistory.js"],"names":["React","useEffect","useState","withRouter","connect","bindActionCreators","loanActions","mapStateToProps","errors","history","mapDispatchToProps","dispatch","actions","LoanRepaymentHistory","auth","JSON","parse","localStorage","getItem","showError","setShowError","id","loadHistory","loanId","loan","_id","token","width","length","map","display","alignSelf","flexDirection","marginTop","borderRadius","padding","boxShadow","fontWeight","repaymentAmount","createdAt","loanBalance"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../redux/actions/loanActions';\n\nconst mapStateToProps = ({ errors, history }) => ({ errors, history });\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(loanActions, dispatch)\n});\n\nconst LoanRepaymentHistory = ({ actions, errors, history }) => {\n  const auth = JSON.parse(localStorage.getItem('jwt'))\n  const [showError, setShowError] = useState(false);\n  useEffect(() => {\n    const id = actions.loadHistory({ loanId: auth.loan[0]._id, token: auth.token });\n    return () => id\n    setShowError(false);\n  }, [actions, auth.loan, auth.token]);\n\n  return (\n    <>\n      <div className=\"data-form\" style={{ width: \"57%\" }}>\n        <header>\n          <h1>Repayment History</h1>\n        </header>\n        <div className='error'>{showError && errors}</div>\n        {history.length === 0 ? 'You have no loan repayment history' : (\n          <>\n            {history.map((history) => (\n              <div\n                key={history._id}\n                style={{\n                  display: \"flex\",\n                  alignSelf: \"center\",\n                  flexDirection: \"column\",\n                  marginTop: \"20px\",\n                  borderRadius: \"8px\",\n                  padding: \"15px\",\n                  boxShadow: \"0px 2px 10px 0px #185a9d\",\n                }}\n              >\n                <p>\n                  <em style={{ fontWeight: \"bold\" }}>Repayment Amount:</em>{\" \"}\n                  {\"ksh. \" + history.repaymentAmount}\n                </p>\n                <p>\n                  <em style={{ fontWeight: \"bold\" }}>Date:</em>{\" \"}\n                  {history.createdAt}\n                </p>\n                <p>\n                  <em style={{ fontWeight: \"bold\" }}>Loan Balance:</em>{\" \"}\n                  {\"ksh. \" + history.loanBalance}\n                </p>\n              </div>\n            ))}</>)}\n      </div>\n    </>\n  );\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoanRepaymentHistory));"]},"metadata":{},"sourceType":"module"}