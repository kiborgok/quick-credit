{"ast":null,"code":"import*as loanApi from'../../api/loanApi';import*as types from'./actionTypes';export var receiveErrors=function receiveErrors(error){return{type:types.RECEIVE_ERRORS,error:error.error};};export var createLoan=function createLoan(loan){return{type:types.CREATE_LOAN,loan:loan.data};};export var repayLoanSuccess=function repayLoanSuccess(loan){return{type:types.REPAY_LOAN,loan:loan.data};};export var loadLoansSuccess=function loadLoansSuccess(loans){return{type:types.LOAD_LOANS_SUCCESS,loans:loans.data};};export var loadLoanSuccess=function loadLoanSuccess(loan){return{type:types.LOAD_LOAN_SUCCESS,loan:loan.data};};export var loadLoanHistorySuccess=function loadLoanHistorySuccess(loanHistory){return{type:types.LOAD_REPAYMENT_HISTORY,loanHistory:loanHistory.data};};export var approveOrReject=function approveOrReject(loan){return{type:types.APPROVE_OR_REJECT_LOAN,loan:loan.data};};export function applyLoan(loan){return function(dispatch){return loanApi.applyLoan(loan).then(function(loan){if(loan.data){alert(\"Your loan is being processed\");return dispatch(createLoan(loan));}return dispatch(receiveErrors(loan));});};};export function repayLoan(loan){return function(dispatch){return loanApi.repayLoan(loan).then(function(loan){if(loan.data){alert(\"You have repaid ksh. \".concat(loan.data.repaymentAmount));return dispatch(repayLoanSuccess(loan));}return dispatch(receiveErrors(loan));});};};export function loadLoans(){return function(dispatch){return loanApi.loadLoans().then(function(loans){return dispatch(loadLoansSuccess(loans));});};};export function loadLoan(){return function(dispatch){return loanApi.loadLoan().then(function(loan){return dispatch(loadLoanSuccess(loan));});};};export function loadHistory(loanId){return function(dispatch){return loanApi.loadRepaymentHistory(loanId).then(function(loanHistory){return dispatch(loadLoanHistorySuccess(loanHistory));});};};export function approveOrRejectLoan(loan){return function(dispatch){return loanApi.approveOrRejectLoan(loan).then(function(loan){return dispatch(approveOrReject(loan));});};};","map":{"version":3,"sources":["/home/vanellope/Programming/Javascript/Quickloan/frontend/src/redux/actions/loanActions.js"],"names":["loanApi","types","receiveErrors","error","type","RECEIVE_ERRORS","createLoan","loan","CREATE_LOAN","data","repayLoanSuccess","REPAY_LOAN","loadLoansSuccess","loans","LOAD_LOANS_SUCCESS","loadLoanSuccess","LOAD_LOAN_SUCCESS","loadLoanHistorySuccess","loanHistory","LOAD_REPAYMENT_HISTORY","approveOrReject","APPROVE_OR_REJECT_LOAN","applyLoan","dispatch","then","alert","repayLoan","repaymentAmount","loadLoans","loadLoan","loadHistory","loanId","loadRepaymentHistory","approveOrRejectLoan"],"mappings":"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","sourcesContent":["import * as loanApi from '../../api/loanApi';\nimport * as types from './actionTypes';\n\nexport const receiveErrors = error => (\n    { type: types.RECEIVE_ERRORS, error: error.error }\n);\n\nexport const createLoan = loan => (\n    { type: types.CREATE_LOAN, loan: loan.data }\n);\n\nexport const repayLoanSuccess = loan => (\n    { type: types.REPAY_LOAN, loan: loan.data }\n);\n\nexport const loadLoansSuccess = loans => (\n    { type: types.LOAD_LOANS_SUCCESS, loans: loans.data }\n);\n\nexport const loadLoanSuccess = (loan) => ({\n  type: types.LOAD_LOAN_SUCCESS,\n  loan: loan.data,\n});\n\nexport const loadLoanHistorySuccess = loanHistory => (\n    { type: types.LOAD_REPAYMENT_HISTORY, loanHistory: loanHistory.data }\n);\n\nexport const approveOrReject = loan => (\n    { type: types.APPROVE_OR_REJECT_LOAN, loan: loan.data }\n);\n\nexport function applyLoan(loan) {\n    return function (dispatch) {\n        return loanApi.applyLoan(loan)\n            .then(loan => {\n                if (loan.data) {\n                    alert(`Your loan is being processed`)\n                    return dispatch(createLoan(loan))\n                }\n                return dispatch(receiveErrors(loan))\n            })\n    };\n};\n\nexport function repayLoan(loan) {\n    return function (dispatch) {\n        return loanApi.repayLoan(loan)\n            .then(loan => {\n                if (loan.data) {\n                    alert(`You have repaid ksh. ${loan.data.repaymentAmount}`)\n                    return dispatch(repayLoanSuccess(loan))\n                }\n                return dispatch(receiveErrors(loan))\n            })\n    };\n};\n\nexport function loadLoans() {\n    return function (dispatch) {\n        return loanApi.loadLoans()\n            .then(loans => dispatch(loadLoansSuccess(loans)))\n    };\n};\n\nexport function loadLoan() {\n    return function (dispatch) {\n        return loanApi.loadLoan()\n            .then(loan => dispatch(loadLoanSuccess(loan)))\n    };\n};\n\nexport function loadHistory(loanId) {\n    return function (dispatch) {\n        return loanApi.loadRepaymentHistory(loanId)\n            .then(loanHistory => dispatch(loadLoanHistorySuccess(loanHistory)))\n    };\n};\n\nexport function approveOrRejectLoan(loan) {\n    return function (dispatch) {\n        return loanApi.approveOrRejectLoan(loan)\n            .then(loan => dispatch(approveOrReject(loan)))\n    };\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}