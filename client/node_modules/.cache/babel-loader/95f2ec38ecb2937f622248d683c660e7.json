{"ast":null,"code":"import _slicedToArray from\"/home/vanellope/Programming/Javascript/Quickloan/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{withRouter}from'react-router-dom';import{connect}from\"react-redux\";import{bindActionCreators}from'redux';import*as loanActions from'../redux/actions/loanActions';var mapStateToProps=function mapStateToProps(_ref){var errors=_ref.errors,loanHistory=_ref.loanHistory;return{errors:errors,loanHistory:loanHistory};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{actions:bindActionCreators(loanActions,dispatch)};};var LoanRepaymentHistory=function LoanRepaymentHistory(_ref2){var actions=_ref2.actions,errors=_ref2.errors,loanHistory=_ref2.loanHistory;var id=localStorage.getItem('loanId');var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showError=_useState2[0],setShowError=_useState2[1];useEffect(function(){var loanId=actions.loadHistory({loanId:id});setShowError(false);return function(){return loanId;};},[actions,id]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"data-form\",style:{width:\"57%\"}},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Repayment History\")),/*#__PURE__*/React.createElement(\"div\",{className:\"error\"},showError&&errors),loanHistory.length===0?'You have no loan repayment history':/*#__PURE__*/React.createElement(React.Fragment,null,loanHistory.map(function(history){return/*#__PURE__*/React.createElement(\"div\",{key:history._id,style:{display:\"flex\",alignSelf:\"center\",width:\"40%\",flexDirection:\"column\",marginTop:\"20px\",borderRadius:\"8px\",padding:\"15px\",boxShadow:\"0px 2px 10px 0px #185a9d\"}},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"em\",{style:{fontWeight:\"bold\"}},\"Repayment Amount:\"),\" \",\"ksh. \"+history.repaymentAmount),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"em\",{style:{fontWeight:\"bold\"}},\"Date:\"),\" \",history.createdAt),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"em\",{style:{fontWeight:\"bold\"}},\"Loan Balance:\"),\" \",\"ksh. \"+history.loanBalance));}))));};export default withRouter(connect(mapStateToProps,mapDispatchToProps)(LoanRepaymentHistory));","map":{"version":3,"sources":["/home/vanellope/Programming/Javascript/Quickloan/frontend/src/components/LoanRepaymentHistory.js"],"names":["React","useEffect","useState","withRouter","connect","bindActionCreators","loanActions","mapStateToProps","errors","loanHistory","mapDispatchToProps","dispatch","actions","LoanRepaymentHistory","id","localStorage","getItem","showError","setShowError","loanId","loadHistory","width","length","map","history","_id","display","alignSelf","flexDirection","marginTop","borderRadius","padding","boxShadow","fontWeight","repaymentAmount","createdAt","loanBalance"],"mappings":"gLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,8BAA7B,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,UAAGC,CAAAA,MAAH,MAAGA,MAAH,CAAWC,WAAX,MAAWA,WAAX,OAA8B,CAAED,MAAM,CAANA,MAAF,CAAUC,WAAW,CAAXA,WAAV,CAA9B,EAAxB,CACA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACpCC,OAAO,CAAEP,kBAAkB,CAACC,WAAD,CAAcK,QAAd,CADS,CAAL,EAAnC,CAIA,GAAME,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,OAAsC,IAAnCD,CAAAA,OAAmC,OAAnCA,OAAmC,CAA1BJ,MAA0B,OAA1BA,MAA0B,CAAlBC,WAAkB,OAAlBA,WAAkB,CAC/D,GAAMK,CAAAA,EAAE,CAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAD+D,cAE/Bd,QAAQ,CAAC,KAAD,CAFuB,wCAE1De,SAF0D,eAE/CC,YAF+C,eAG/DjB,SAAS,CAAC,UAAM,CACd,GAAMkB,CAAAA,MAAM,CAAGP,OAAO,CAACQ,WAAR,CAAoB,CAAED,MAAM,CAAEL,EAAV,CAApB,CAAf,CACAI,YAAY,CAAC,KAAD,CAAZ,CACA,MAAO,kBAAMC,CAAAA,MAAN,EAAP,CACD,CAJQ,CAIN,CAACP,OAAD,CAAUE,EAAV,CAJM,CAAT,CAMA,mBACE,qDACE,2BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEO,KAAK,CAAE,KAAT,CAAlC,eACE,+CACE,kDADF,CADF,cAIE,2BAAK,SAAS,CAAC,OAAf,EAAwBJ,SAAS,EAAIT,MAArC,CAJF,CAKGC,WAAW,CAACa,MAAZ,GAAuB,CAAvB,CAA2B,oCAA3B,cACD,wCACCb,WAAW,CAACc,GAAZ,CAAgB,SAACC,OAAD,qBACf,2BACE,GAAG,CAAEA,OAAO,CAACC,GADf,CAEE,KAAK,CAAE,CACLC,OAAO,CAAE,MADJ,CAELC,SAAS,CAAE,QAFN,CAGLN,KAAK,CAAE,KAHF,CAILO,aAAa,CAAE,QAJV,CAKLC,SAAS,CAAE,MALN,CAMLC,YAAY,CAAE,KANT,CAOLC,OAAO,CAAE,MAPJ,CAQLC,SAAS,CAAE,0BARN,CAFT,eAaE,0CACE,0BAAI,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAd,CAAX,sBADF,CAC4D,GAD5D,CAEG,QAAUT,OAAO,CAACU,eAFrB,CAbF,cAiBE,0CACE,0BAAI,KAAK,CAAE,CAAED,UAAU,CAAE,MAAd,CAAX,UADF,CACgD,GADhD,CAEGT,OAAO,CAACW,SAFX,CAjBF,cAqBE,0CACE,0BAAI,KAAK,CAAE,CAAEF,UAAU,CAAE,MAAd,CAAX,kBADF,CACwD,GADxD,CAEG,QAAUT,OAAO,CAACY,WAFrB,CArBF,CADe,EAAhB,CADD,CANF,CADF,CADF,CAwCH,CAjDD,CAmDA,cAAejC,CAAAA,UAAU,CAACC,OAAO,CAACG,eAAD,CAAkBG,kBAAlB,CAAP,CAA6CG,oBAA7C,CAAD,CAAzB","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport * as loanActions from '../redux/actions/loanActions';\n\nconst mapStateToProps = ({ errors, loanHistory }) => ({ errors, loanHistory });\nconst mapDispatchToProps = dispatch => ({\n    actions: bindActionCreators(loanActions, dispatch)\n});\n\nconst LoanRepaymentHistory = ({ actions, errors, loanHistory }) => {\n    const id = localStorage.getItem('loanId')\n  const [showError, setShowError] = useState(false);\n    useEffect(() => {\n      const loanId = actions.loadHistory({ loanId: id })\n      setShowError(false)\n      return () => loanId\n    }, [actions, id]);\n\n    return (\n      <>\n        <div className=\"data-form\" style={{ width: \"57%\" }}>\n          <header>\n            <h1>Repayment History</h1>\n          </header>\n          <div className='error'>{showError && errors}</div>\n          {loanHistory.length === 0 ? 'You have no loan repayment history' : (\n          <>\n          {loanHistory.map((history) => (\n            <div\n              key={history._id}\n              style={{\n                display: \"flex\",\n                alignSelf: \"center\",\n                width: \"40%\",\n                flexDirection: \"column\",\n                marginTop: \"20px\",\n                borderRadius: \"8px\",\n                padding: \"15px\",\n                boxShadow: \"0px 2px 10px 0px #185a9d\",\n              }}\n            >\n              <p>\n                <em style={{ fontWeight: \"bold\" }}>Repayment Amount:</em>{\" \"}\n                {\"ksh. \" + history.repaymentAmount}\n              </p>\n              <p>\n                <em style={{ fontWeight: \"bold\" }}>Date:</em>{\" \"}\n                {history.createdAt}\n              </p>\n              <p>\n                <em style={{ fontWeight: \"bold\" }}>Loan Balance:</em>{\" \"}\n                {\"ksh. \" + history.loanBalance}\n              </p>\n            </div>\n          ))}</>)}\n        </div>\n      </>\n    );\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoanRepaymentHistory));"]},"metadata":{},"sourceType":"module"}